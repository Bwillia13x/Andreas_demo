vite v5.4.19 building for production...
transforming...
‚úì 3354 modules transformed.
rendering chunks...
computing gzip size...
../dist/public/index.html                       2.42 kB ‚îÇ gzip:   0.92 kB
../dist/public/assets/index-B52fWKlG.css       70.33 kB ‚îÇ gzip:  12.42 kB
../dist/public/assets/input-DTh9FO78.js         0.62 kB ‚îÇ gzip:   0.37 kB
../dist/public/assets/not-found-DHsg-N0R.js     0.72 kB ‚îÇ gzip:   0.41 kB
../dist/public/assets/card-CCpIX1gV.js          1.03 kB ‚îÇ gzip:   0.39 kB
../dist/public/assets/select-DbUZ0Jw7.js        3.11 kB ‚îÇ gzip:   1.14 kB
../dist/public/assets/chart-DLmIzyqq.js         4.59 kB ‚îÇ gzip:   1.94 kB
../dist/public/assets/home-RDarpIEi.js          5.97 kB ‚îÇ gzip:   2.06 kB
../dist/public/assets/scheduling-CmD-jkTR.js    8.69 kB ‚îÇ gzip:   2.41 kB
../dist/public/assets/marketing-s5EdLQ0x.js     8.94 kB ‚îÇ gzip:   2.78 kB
../dist/public/assets/staff-DBDinTXc.js         9.13 kB ‚îÇ gzip:   2.24 kB
../dist/public/assets/inventory-BdwTlebz.js     9.29 kB ‚îÇ gzip:   2.52 kB
../dist/public/assets/loyalty-D2cSzbZT.js       9.59 kB ‚îÇ gzip:   2.87 kB
../dist/public/assets/pos-mZNjMqXd.js          14.40 kB ‚îÇ gzip:   4.04 kB
../dist/public/assets/icons-CUuMniuQ.js        15.81 kB ‚îÇ gzip:   3.25 kB
../dist/public/assets/analytics-BVIYQDfh.js    17.74 kB ‚îÇ gzip:   4.14 kB
../dist/public/assets/index-C0RAkEYh.js        32.81 kB ‚îÇ gzip:   9.63 kB
../dist/public/assets/query-CyeIJ-bU.js        36.17 kB ‚îÇ gzip:  10.92 kB
../dist/public/assets/charts-f_bXvggi.js      241.78 kB ‚îÇ gzip:  56.48 kB
../dist/public/assets/vendor-DvMHagaH.js      458.15 kB ‚îÇ gzip: 151.33 kB
‚úì built in 7.98s
üöÄ Starting Comprehensive E2E Tests with User Workflows, Accessibility & Browser Compatibility
üîß Starting test server...
{"timestamp":"2025-09-14T14:15:18.607Z","level":"info","message":"Performance monitoring started","context":{"interval":15000,"alerting":true}}
{"timestamp":"2025-09-14T14:15:18.610Z","level":"info","message":"Performance optimizer started","context":{"memoryLeakDetection":true,"performanceDegradation":true,"maintenanceTasks":true,"autoOptimization":true}}
Demo data seeded successfully
8:15:18 AM [express] Demo data initialized successfully
8:15:18 AM [express] serving on port 63554 with enhanced connection handling
8:15:18 AM [express] Server configuration: keepAlive=65000ms, maxConnections=1000
‚úÖ Server started on http://127.0.0.1:63554

üß™ Running User Workflow Tests...
8:15:22 AM [express] POST /api/demo/seed 400 in 8ms :: {"message":"Content-Type header is required",‚Ä¶
{"timestamp":"2025-09-14T14:15:22.908Z","level":"info","message":"Scaling policy added","context":{"name":"high-cpu-scale-up","metric":"cpu","threshold":80,"action":"scale-up"}}
{"timestamp":"2025-09-14T14:15:22.908Z","level":"info","message":"Scaling policy added","context":{"name":"low-cpu-scale-down","metric":"cpu","threshold":30,"action":"scale-down"}}
{"timestamp":"2025-09-14T14:15:22.909Z","level":"info","message":"Scaling policy added","context":{"name":"high-memory-scale-up","metric":"memory","threshold":85,"action":"scale-up"}}
{"timestamp":"2025-09-14T14:15:22.909Z","level":"info","message":"Scaling policy added","context":{"name":"high-response-time-scale-up","metric":"response-time","threshold":2000,"action":"scale-up"}}
{"timestamp":"2025-09-14T14:15:22.909Z","level":"info","message":"Scaling policy added","context":{"name":"high-error-rate-scale-up","metric":"error-rate","threshold":5,"action":"scale-up"}}
8:15:22 AM [express] GET /api/health 200 in 7ms :: {"status":"ok","env":"production","timestamp":"20‚Ä¶
8:15:23 AM [express] GET /api/services 200 in 3ms :: [{"name":"Executive Cut","description":"Precisi‚Ä¶
8:15:23 AM [express] GET /api/inventory 200 in 5ms :: [{"name":"Feather Artist Club SS Blade","sku":‚Ä¶
8:15:23 AM [express] GET /api/pos/sales 200 in 1ms :: []
8:15:23 AM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":‚Ä¶
8:15:23 AM [express] GET /api/appointments 200 in 7ms :: [{"customerId":"7bd7ecd2-86d1-4d1b-be4a-6b1‚Ä¶
8:15:23 AM [express] GET /api/staff 200 in 5ms :: [{"name":"Andreas Kowalski","email":"andreas@andre‚Ä¶
8:15:23 AM [express] GET /api/customers 200 in 2ms :: [{"id":"7bd7ecd2-86d1-4d1b-be4a-6b1b65ca009b",‚Ä¶
8:15:23 AM [express] GET /api/health 200 in 3ms :: {"status":"ok","env":"production","timestamp":"20‚Ä¶
8:15:23 AM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisi‚Ä¶
8:15:23 AM [express] GET /api/inventory 200 in 4ms :: [{"name":"Feather Artist Club SS Blade","sku":‚Ä¶
8:15:23 AM [express] GET /api/pos/sales 200 in 2ms :: []
{"timestamp":"2025-09-14T14:15:24.553Z","level":"info","message":"Authentication failed: No authorization header provided","context":{"path":"/api/pos/sales","method":"POST","ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) HeadlessChrome/131.0.0.0 Safari/537.36"}}
8:15:24 AM [express] POST /api/pos/sales 401 in 8ms :: {"message":"Authentication required","error":‚Ä¶
8:15:28 AM [express] GET /api/health 200 in 10ms :: {"status":"degraded","env":"production","timesta‚Ä¶
8:15:29 AM [express] GET /api/analytics 200 in 14ms :: [{"date":"2025-09-01T00:00:00.000Z","totalRev‚Ä¶
8:15:29 AM [express] GET /api/marketing/performance 200 in 4ms :: {"summary":{"impressions":0,"click‚Ä¶
8:15:29 AM [express] GET /api/marketing/campaigns 200 in 2ms :: []
{"timestamp":"2025-09-14T14:15:29.146Z","level":"info","message":"Authentication failed: No authorization header provided","context":{"path":"/api/marketing/campaigns","method":"POST","ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) HeadlessChrome/131.0.0.0 Safari/537.36"}}
8:15:29 AM [express] POST /api/marketing/campaigns 401 in 5ms :: {"message":"Authentication required‚Ä¶
8:15:31 AM [express] GET /api/health 200 in 6ms :: {"status":"degraded","env":"production","timestam‚Ä¶
8:15:31 AM [express] GET /api/customers 200 in 0ms :: [{"id":"7bd7ecd2-86d1-4d1b-be4a-6b1b65ca009b",‚Ä¶
8:15:31 AM [express] GET /api/loyalty/entries 200 in 1ms :: []
{"timestamp":"2025-09-14T14:15:31.357Z","level":"info","message":"Authentication failed: No authorization header provided","context":{"path":"/api/loyalty/entries","method":"POST","ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) HeadlessChrome/131.0.0.0 Safari/537.36"}}
8:15:31 AM [express] POST /api/loyalty/entries 401 in 1ms :: {"message":"Authentication required","e‚Ä¶
{"timestamp":"2025-09-14T14:15:32.974Z","level":"info","message":"Authentication failed: No authorization header provided","context":{"path":"/api/loyalty/entries","method":"POST","ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) HeadlessChrome/131.0.0.0 Safari/537.36"}}
8:15:32 AM [express] POST /api/loyalty/entries 401 in 1ms :: {"message":"Authentication required","e‚Ä¶
{"timestamp":"2025-09-14T14:15:33.617Z","level":"info","message":"High heap utilization detected","context":{"heapUtilization":"89.21","heapUsed":21,"heapTotal":23}}
8:15:35 AM [express] GET /api/health 200 in 2ms :: {"status":"degraded","env":"production","timestam‚Ä¶
8:15:35 AM [express] GET /api/appointments 200 in 1ms :: [{"customerId":"7bd7ecd2-86d1-4d1b-be4a-6b1‚Ä¶
8:15:35 AM [express] GET /api/services 200 in 1ms :: [{"name":"Executive Cut","description":"Precisi‚Ä¶
8:15:35 AM [express] GET /api/staff 200 in 3ms :: [{"name":"Andreas Kowalski","email":"andreas@andre‚Ä¶
8:15:35 AM [express] GET /api/customers 200 in 1ms :: [{"id":"7bd7ecd2-86d1-4d1b-be4a-6b1b65ca009b",‚Ä¶
8:15:35 AM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":‚Ä¶
{"timestamp":"2025-09-14T14:15:35.428Z","level":"info","message":"Connection metrics","context":{"activeConnections":-96,"totalConnections":100,"timestamp":"2025-09-14T14:15:35.428Z"}}
8:15:35 AM [express] GET /api/inventory 200 in 1ms :: [{"name":"Feather Artist Club SS Blade","sku":‚Ä¶
8:15:35 AM [express] GET /api/pos/sales 200 in 1ms :: []
{"timestamp":"2025-09-14T14:15:35.540Z","level":"info","message":"Authentication failed: No authorization header provided","context":{"path":"/api/pos/sales","method":"POST","ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) HeadlessChrome/131.0.0.0 Safari/537.36"}}
8:15:35 AM [express] POST /api/pos/sales 401 in 4ms :: {"message":"Authentication required","error":‚Ä¶
8:15:40 AM [express] GET /api/analytics 200 in 3ms :: [{"date":"2025-09-01T00:00:00.000Z","totalReve‚Ä¶
8:15:40 AM [express] GET /api/marketing/campaigns 200 in 2ms :: []
8:15:40 AM [express] GET /api/loyalty/entries 200 in 0ms :: []
8:15:40 AM [express] GET /api/marketing/performance 200 in 16ms :: {"summary":{"impressions":0,"clic‚Ä¶
   ‚úÖ Completed 5 workflow tests

‚ôø Accessibility/Usability tests disabled for this run

üåê Browser compatibility/responsive tests disabled for this run

üìä Generating comprehensive test reports...

üìã Comprehensive E2E Test Results Summary:
   Total Tests: 5
   ‚úÖ Passed: 5
   ‚ùå Failed: 0
   ‚è≠Ô∏è  Skipped: 0
   üìä Success Rate: 100.0%
   ‚è±Ô∏è  Total Duration: 22.82s

üìù Test Suite Breakdown:
   üß™ User Workflows: 5/5 passed
   ‚ôø Accessibility: 0/0 passed
   üéØ Usability: 0/0 passed
   üåê Browser Compatibility: 0/0 passed
   üì± Responsive Design: 0/0 passed

üéØ Comprehensive E2E Tests completed!
üìÑ Detailed reports generated in: test-results/

üéâ All tests passed successfully!
{"timestamp":"2025-09-14T14:15:40.813Z","level":"info","message":"Request throttler shutdown complete"}
{"timestamp":"2025-09-14T14:15:40.818Z","level":"info","message":"Cache cleared","context":{"entriesRemoved":0}}
{"timestamp":"2025-09-14T14:15:40.818Z","level":"info","message":"Resource manager shutdown complete"}
{"timestamp":"2025-09-14T14:15:40.818Z","level":"info","message":"Load balancer shutdown complete"}
{"timestamp":"2025-09-14T14:15:40.819Z","level":"info","message":"Session manager shutdown","context":{"activeSessionsCount":0}}
{"timestamp":"2025-09-14T14:15:40.819Z","level":"info","message":"Auto-scaler shutdown complete","context":{"finalInstanceCount":1,"totalEvents":0}}
{"timestamp":"2025-09-14T14:15:40.819Z","level":"info","message":"Request throttler shutdown complete"}
{"timestamp":"2025-09-14T14:15:40.819Z","level":"info","message":"Cache cleared","context":{"entriesRemoved":0}}
{"timestamp":"2025-09-14T14:15:40.819Z","level":"info","message":"Resource manager shutdown complete"}
{"timestamp":"2025-09-14T14:15:40.819Z","level":"info","message":"Load balancer shutdown complete"}
{"timestamp":"2025-09-14T14:15:40.819Z","level":"info","message":"Session manager shutdown","context":{"activeSessionsCount":0}}
{"timestamp":"2025-09-14T14:15:40.819Z","level":"info","message":"Auto-scaler shutdown complete","context":{"finalInstanceCount":1,"totalEvents":0}}
{"timestamp":"2025-09-14T14:16:18.645Z","level":"info","message":"Starting performance optimization","context":{"aggressive":false}}
{"timestamp":"2025-09-14T14:16:18.656Z","level":"info","message":"Starting memory optimization"}
{"timestamp":"2025-09-14T14:16:18.657Z","level":"info","message":"Starting memory optimization"}
{"timestamp":"2025-09-14T14:16:18.658Z","level":"info","message":"Cache cleared","context":{"entriesRemoved":0}}
{"timestamp":"2025-09-14T14:16:18.659Z","level":"info","message":"Memory optimization completed","context":{"memoryAfter":22}}
{"timestamp":"2025-09-14T14:16:18.660Z","level":"info","message":"Cache cleared","context":{"entriesRemoved":0}}
{"timestamp":"2025-09-14T14:16:18.660Z","level":"info","message":"Memory optimization completed"}
{"timestamp":"2025-09-14T14:16:18.661Z","level":"info","message":"Connection cleanup completed"}
{"timestamp":"2025-09-14T14:16:18.662Z","level":"info","message":"Performance optimization completed","context":{"aggressive":false}}
{"timestamp":"2025-09-14T14:16:18.672Z","level":"info","message":"Performance metrics collected","context":{"requests":{"total":113,"successful":107,"failed":6,"errorRate":5.3097345132743365,"requestsPerSecond":1.8833333333333333},"responseTime":{"average":11,"p95":42},"system":{"memory":22,"heap":93}}}
{"timestamp":"2025-09-14T14:17:18.706Z","level":"info","message":"Performance metrics collected","context":{"requests":{"total":0,"successful":0,"failed":0,"errorRate":0,"requestsPerSecond":0},"responseTime":{"average":0,"p95":0},"system":{"memory":22,"heap":94}}}
